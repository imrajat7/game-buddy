<%- include("partials/header") -%>

<div class="background-admin" style="text-align: center;">

    <form class="form-signin" method="POST" action="/tournament/create">
        <img class="mb-4 img-index" src="/images/logo.jpeg" alt="" width="150" height="200">

        <h1 style="color: whitesmoke;" class="h3 mb-3 font-weight-normal"><strong>Create Room / Tournament</strong></h1>
        <br>

        <input type="text" name="name" class="form-control admin" placeholder="Name of the game">
        <br>
        <select name="typeOfSquad" class="form-control admin" id="match">
            <option value="Squad">Squad</option>
            <option value="Solo">Solo</option>
            <option value="Duo">Duo</option>
        </select>
        <br>

        <input type="number" name="prizePool" class="form-control admin" placeholder="Prize Pool">
        <br>

        <input type="number" name="entryFee" class="form-control admin" placeholder="Entry Fee">
        <br>

        <input type="text" name="killReward" class="form-control admin" placeholder="Reward per kill">
        <br>

        <input type="text" name="firstReward" class="form-control admin" placeholder="Winner Reward">
        <br>

        <input type="text" name="secondReward" class="form-control admin" placeholder="Second Place Reward">
        <br>

        <input type="text" name="thirdReward" class="form-control admin" placeholder="Third Place Reward">
        <br>

        <input type="text" name="fourthReward" class="form-control admin" placeholder="Fourth Place Reward">
        <br>

        <input type="text" name="fifthReward" class="form-control admin" placeholder="Fifth Place Reward">
        <br>

        <input type="text" name="maxKillReward" class="form-control admin" placeholder="Most Kills Reward">
        <br>

        <textarea placeholder="NOTE" class="form-control admin" name="note"></textarea>
        <br>

        <input type="number" name="numberOfMatches" placeholder="Number of Matches" min="1" id="numberOfMatches"
            class="form-control admin">
        <br>
        <select name="matchType" class="form-control admin" id="">
            <option value="Classic">Classic</option>
            <option value="TDM">TDM</option>
        </select>

        <div id="matches"></div>

        <br>

        <input class="btn btn-lg btn-dark btn-block" type="submit" value="Create Game">

    </form>
    <script>
        window.onload = function () {
            var currForms = 0;
            $('#numberOfMatches').change(function () {
                var numForms = this.value;
                if (currForms > numForms) {
                    $('#matches .form-group').filter(function (index, ele) {
                        return $(ele).data('index') >= numForms;
                    }).remove();
                    currForms = numForms;
                } else {
                    while (currForms < numForms) {
                        $('#matches').append(
                            `<br><div class="form-group" data-index="${currForms}">
                            <h3 style="color:white;">Match ${++currForms}</h3>
                            <select name="map" class="form-control admin" id="map">
            <option value="Erangel">Erangel</option>
            <option value="Miramar">Miramar</option>
            <option value="Vikendi">Vikendi</option>
            <option value="Sanhok">Sanhok</option>
            <option value="Livik">Livik</option>
        </select>

        <br>
        <input type="datetime-local" name="datetime" class="form-control admin">
                            </div>`
                        );
                    }
                }
            });
        }
    </script>

</div>



<%- include("partials/footer") -%></br>